# Write-Through Cache Pattern

–≠—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω **Write-Through Cache**. 
–î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** –∏ –≤ –∫—ç—à, –∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

–ü–∞—Ç—Ç–µ—Ä–Ω Write-Through —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤:
1. **–ß—Ç–µ–Ω–∏–µ** - –∫–∞–∫ –≤ Cache-Aside (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ë–î ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à)
2. **–ó–∞–ø–∏—Å—å** - –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –≤ –∫—ç—à, –∏ –≤ –ë–î

## üìä –ß—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ—Ä:

```
1Ô∏è‚É£ –ß–¢–ï–ù–ò–ï: CACHE MISS ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ë–î ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à
2Ô∏è‚É£ –ü–û–í–¢–û–†–ù–û–ï –ß–¢–ï–ù–ò–ï: CACHE HIT ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞
3Ô∏è‚É£ –ó–ê–ü–ò–°–¨: WRITE-THROUGH ‚Üí –∑–∞–ø–∏—Å—å –≤ –ë–î ‚Üí –∑–∞–ø–∏—Å—å –≤ –∫—ç—à
4Ô∏è‚É£ –û–ë–ù–û–í–õ–ï–ù–ò–ï: WRITE-THROUGH ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –∫—ç—à–µ
```

### macOS / Linux –ö–æ–º–∞–Ω–¥—ã
#### 1Ô∏è‚É£ –ü–û–õ–£–ß–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (—á—Ç–µ–Ω–∏–µ)
```bash
curl "http://localhost:8082/api/users/1"
```

#### 2Ô∏è‚É£ –°–û–ó–î–ê–¢–¨ –ù–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
curl -X POST "http://localhost:8082/api/users" \
  -H "Content-Type: application/json" \
  -d '{"name":"David","email":"david@example.com"}'
```

#### 3Ô∏è‚É£ –û–ë–ù–û–í–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
curl -X PUT "http://localhost:8082/api/users/1?name=Alice%20Updated&email=alice.updated@example.com"
```

#### 4Ô∏è‚É£ –£–î–ê–õ–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
curl -X DELETE "http://localhost:8082/api/users/1"
```

#### 5Ô∏è‚É£ –ü–†–û–°–ú–û–¢–† –°–û–°–¢–û–Ø–ù–ò–Ø –ö–≠–®–ê
```bash
curl "http://localhost:8082/api/users/cache/show"
```

#### 6Ô∏è‚É£ –û–ß–ò–°–¢–ö–ê –í–°–ï–ì–û –ö–≠–®–ê
```bash
curl -X POST "http://localhost:8082/api/users/cache/clear"
```

### Windows –ö–æ–º–∞–Ω–¥—ã
#### 1Ô∏è‚É£ –ü–û–õ–£–ß–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (—á—Ç–µ–Ω–∏–µ)
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users/1" -Method GET
```

#### 2Ô∏è‚É£ –°–û–ó–î–ê–¢–¨ –ù–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users" -Method POST -Body '{"name":"David","email":"david@example.com"}' -ContentType "application/json"
```

#### 3Ô∏è‚É£ –û–ë–ù–û–í–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users/1?name=Alice%20Updated&email=alice.updated@example.com" -Method PUT
```

#### 4Ô∏è‚É£ –£–î–ê–õ–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (Write-Through)
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users/1" -Method DELETE
```

#### 5Ô∏è‚É£ –ü–†–û–°–ú–û–¢–† –°–û–°–¢–û–Ø–ù–ò–Ø –ö–≠–®–ê
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users/cache/show" -Method GET
```

#### 6Ô∏è‚É£ –û–ß–ò–°–¢–ö–ê –í–°–ï–ì–û –ö–≠–®–ê
```bash
Invoke-RestMethod -Uri "http://localhost:8082/api/users/cache/clear" -Method POST
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Write-Through:
- ‚úÖ **–í—ã—Å–æ–∫–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø** - –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –≤ –ë–î, –∏ –≤ –∫—ç—à–µ

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- ‚ùå **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏** - –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –¥–≤–∞ –º–µ—Å—Ç–∞
- ‚ùå **–ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è
- ‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** - –ø—Ä–∏ —Å–±–æ–µ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –æ–±–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- üîπ –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- üîπ –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üîπ –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

## üìà –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å–∞

```
–û–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è:
–ö–ª–∏–µ–Ω—Ç ‚Üí Controller ‚Üí Service 
                    ‚Üì
               –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à? ‚Äî –ù–ï–¢ ‚Äî‚Üí –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î ‚Äî‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à
                    ‚Üì –î–ê
               –í–µ—Ä–Ω—É—Ç—å –∏–∑ –∫—ç—à–∞
                    ‚Üì
                 –ö–ª–∏–µ–Ω—Ç

–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏:
–ö–ª–∏–µ–Ω—Ç ‚Üí Controller ‚Üí Service 
                    ‚Üì
         –ó–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î ‚Äî‚Üí –ó–∞–ø–∏—Å–∞—Ç—å –≤ –∫—ç—à
              ‚Üì               ‚Üì
           –£—Å–ø–µ—Ö           –£—Å–ø–µ—Ö
              ‚Üì               ‚Üì
                 –ö–ª–∏–µ–Ω—Ç
```

